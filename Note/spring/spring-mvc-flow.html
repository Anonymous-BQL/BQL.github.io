<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SUI pi | Spring MVC管控流程</title>
    <meta name="description" content="wenli java number one">
    
    
    <link rel="preload" href="/assets/css/7.styles.5baa8a60.css" as="style"><link rel="preload" href="/assets/js/app.b74aa132.js" as="script"><link rel="preload" href="/assets/js/2.19a67a8a.js" as="script"><link rel="prefetch" href="/assets/js/4.946c6dc3.js"><link rel="prefetch" href="/assets/js/1.f69a73f7.js"><link rel="prefetch" href="/assets/js/3.3a76dc12.js"><link rel="prefetch" href="/assets/js/0.315b259f.js"><link rel="prefetch" href="/assets/js/5.74660d48.js"><link rel="prefetch" href="/assets/js/6.15b12038.js">
    <link rel="stylesheet" href="/assets/css/7.styles.5baa8a60.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      SUI pi
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/Note/java/java1.html" class="nav-link">blog</a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Note/java/java1.html" class="nav-link">blog</a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>Java</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/Note/java/java1.html" class="sidebar-link">java</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Spring</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h2 id="spring-mvc管控流程"><a href="#spring-mvc管控流程" aria-hidden="true" class="header-anchor">#</a> Spring MVC管控流程</h2><p><em>请求经过的流程</em></p><h3 id="_1-filter"><a href="#_1-filter" aria-hidden="true" class="header-anchor">#</a> 1.Filter</h3><p><em>基于servlet filter的内建filter</em></p><h3 id="_2-handlemapping"><a href="#_2-handlemapping" aria-hidden="true" class="header-anchor">#</a> 2.HandleMapping</h3><p><em>根据策略调用不同的 handlemapping 来映射请求获取请求相关的 controller 和 intercepter</em></p><h3 id="_3-intercepter"><a href="#_3-intercepter" aria-hidden="true" class="header-anchor">#</a> 3.Intercepter</h3><p><em>HandlerIntercepter，拦截指定 URL 或者 controller 的请求，进行处理</em></p><h3 id="_4-before-controller"><a href="#_4-before-controller" aria-hidden="true" class="header-anchor">#</a> 4.before controller</h3><blockquote><ul><li>如果是 ViewController，则调用相应的 viewcontroller 进行处理</li></ul></blockquote><blockquote><ul><li>如果是 method controller：</li></ul></blockquote><blockquote><blockquote><ol><li>调用 MessageConverter 转换HTTP body数据</li></ol></blockquote></blockquote><blockquote><blockquote><ol start="2"><li>Converters 转换HTTP header，url数据</li></ol></blockquote></blockquote><blockquote><blockquote><ol start="3"><li>调用InitBind，进行请求数据到model的绑定</li></ol></blockquote></blockquote><blockquote><blockquote><ol start="4"><li>将数据转换为 controller 参数</li></ol></blockquote></blockquote><blockquote><blockquote><ol start="4"><li>调用 validation 进行参数验证</li></ol></blockquote></blockquote><blockquote><blockquote><ol start="5"><li>若转换出现异常，则将异常保存到Errors中</li></ol></blockquote></blockquote><blockquote><ul><li>如果是静态资源：</li></ul></blockquote><blockquote><blockquote><ol><li>若资源存在，则返回资源</li></ol></blockquote></blockquote><blockquote><blockquote><ol start="2"><li>资源不存在且配置了 defaultServlet 则调用容器的 defaultServlet 进行处理</li></ol></blockquote></blockquote><h3 id="_5-controller"><a href="#_5-controller" aria-hidden="true" class="header-anchor">#</a> 5.Controller</h3><blockquote><p>1.进行请求相应，可以返回和接受任意类型，通过不通过类型参数可以得到需要的数据对象</p></blockquote><blockquote><p>2.调用相应的 ControllerAdvice 进行处理</p></blockquote><blockquote><p>3.若处理出现异常，则调用 HandlerExceptionResolver Bean 或者 @ExceptionHandler 方法，当使用 Rest时 可以使用全局的 ResponseEntityExceptionHandler Bean</p></blockquote><blockquote><p>4.出现异常时，Spring会根据异常的类型对Response status 进行注入</p></blockquote><h3 id="_6-translator"><a href="#_6-translator" aria-hidden="true" class="header-anchor">#</a> 6.Translator</h3><p><em>如果需要返回视图，Translator 翻译 Controller 的返回值，不同返回值可能拥有不同的 Translator</em></p><h3 id="_7-viewresolvers"><a href="#_7-viewresolvers" aria-hidden="true" class="header-anchor">#</a> 7.ViewResolvers</h3><p><em>在 Translator 之后进行处理，也可能在 ContentNegotiatingViewConverter之后处理，需要时，返回视图</em></p><h3 id="_8-response"><a href="#_8-response" aria-hidden="true" class="header-anchor">#</a> 8.Response</h3><p><em>经过该请求所对应的所有的 MessageConverters, Intercepter, Filter，并响应客户端</em></p><h2 id="相关问题"><a href="#相关问题" aria-hidden="true" class="header-anchor">#</a> 相关问题</h2><blockquote><ul><li>多个 Handlermapping 与多个 ViewResolver，通过 order 属性指定优先级，或者通过
ContentNegotiatingViewConverter 根据客户端Accept类型进行选择</li></ul></blockquote></div><!----><!----></div></div></div>
    <script src="/assets/js/2.19a67a8a.js" defer></script><script src="/assets/js/app.b74aa132.js" defer></script>
  </body>
</html>
